"use strict";(self.webpackChunksong_project=self.webpackChunksong_project||[]).push([[208],{6208:(U,c,l)=>{l.r(c),l.d(c,{AdminModule:()=>h});var u=l(6895),p=l(646),t=l(1571),a=l(433),r=l(4004),b=l(529);let A=(()=>{class o{constructor(e){this.http=e}postMusic(e){return this.http.post("http://localhost:3000/posts",e).pipe((0,r.U)(n=>n))}getMusic(){return this.http.get("http://localhost:3000/posts").pipe((0,r.U)(e=>e))}updateMusic(e,n){return this.http.put("http://localhost:3000/posts/"+n,e).pipe((0,r.U)(s=>s))}deleteMusic(e){return this.http.delete("http://localhost:3000/posts/"+e).pipe((0,r.U)(n=>n))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(b.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function f(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",25),t._uU(9),t.TgZ(10,"b"),t._uU(11),t.qZA()()(),t.TgZ(12,"td")(13,"button",26),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onEdit(d))}),t._uU(14,"Edit"),t.qZA(),t.TgZ(15,"button",27),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteMusic(d))}),t._uU(16,"Delete"),t.qZA()()()}if(2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.MusicName),t.xp6(2),t.Oqu(e.AuthorName),t.xp6(2),t.s9C("href",e.url,t.LSH),t.xp6(1),t.hij("",e.AuthorName," "),t.xp6(2),t.hij("^^",e.MusicName,"^^")}}function g(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.postAdminDetails())}),t._uU(1,"Add"),t.qZA()}}function Z(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.updatetAdminDetails())}),t._uU(1,"Update"),t.qZA()}}const _=[{path:"",component:(()=>{class o{constructor(e,n){this.formbuilder=e,this.api=n,this.adminModelObj=new h}ngOnInit(){this.formValue=this.formbuilder.group({MusicName:[""],AuthorName:[""],url:[""]}),this.getAllAdmin()}clickAddMusic(){this.formValue.reset(),this.showAdd=!0,this.showUpdate=!1}postAdminDetails(){this.adminModelObj.MusicName=this.formValue.value.MusicName,this.adminModelObj.AuthorName=this.formValue.value.AuthorName,this.adminModelObj.url=this.formValue.value.url,this.api.postMusic(this.adminModelObj).subscribe(e=>{console.log(e),alert("Music Added Successfully"),document.getElementById("cancel")?.click(),this.formValue.reset(),this.getAllAdmin()},e=>{alert("Something Went wrong")})}getAllAdmin(){this.api.getMusic().subscribe(e=>{this.adminData=e})}deleteMusic(e){this.api.deleteMusic(e.id).subscribe(n=>{alert("Music Deleted"),this.getAllAdmin()})}onEdit(e){this.showAdd=!1,this.showUpdate=!0,this.adminModelObj.id=e.id,this.formValue.controls.MusicName.setValue(e.MusicName),this.formValue.controls.AuthorName.setValue(e.AuthorName),this.formValue.controls.url.setValue(e.url)}updatetAdminDetails(){this.adminModelObj.MusicName=this.formValue.value.MusicName,this.adminModelObj.AuthorName=this.formValue.value.AuthorName,this.adminModelObj.url=this.formValue.value.url,this.api.updateMusic(this.adminModelObj,this.adminModelObj.id).subscribe(e=>{alert("Updated Successfuly"),document.getElementById("cancel")?.click(),this.formValue.reset(),this.getAllAdmin()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-admin-dash"]],decls:54,vars:4,consts:[[1,"admin-navbar"],[1,"navbar","navbar-light","bg-primary"],[1,"container-fluid"],[2,"color","aliceblue"],[1,"d-flex"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success",2,"background-color","rgb(100, 221, 227)","color","black",3,"click"],[1,"table","mt-3"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","1","aria-labelledby","aria-h",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModelLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","text","formControlName","MusicName","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","text","formControlName","AuthorName","id","exampleInputPassword1",1,"form-control"],["type","url","formControlName","url","id","exampleInputPassword1",1,"form-control"],[1,"modal-footer"],["type","button","id","cancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["target","_blank",2,"color","blue",3,"href"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-info",3,"click"],[1,"btn","btn-danger","mx-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"b"),t._uU(5,"Admin"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return n.clickAddMusic()}),t._uU(8,"Add New Song"),t.qZA()()()()(),t.TgZ(9,"table",6)(10,"thead")(11,"tr")(12,"th"),t._uU(13,"Id"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Name Of Song"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Author"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Link"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Action"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,f,17,6,"tr",7),t.qZA()(),t.TgZ(24,"div",8)(25,"div",9)(26,"div",10)(27,"div",11)(28,"h5",12),t._uU(29,"Admin details"),t.qZA(),t._UZ(30,"button",13),t.qZA(),t.TgZ(31,"div",14)(32,"form",15)(33,"div",16)(34,"label",17),t._uU(35,"Song Name"),t.qZA(),t._UZ(36,"input",18),t.qZA(),t.TgZ(37,"div",16)(38,"label",19),t._uU(39,"Author"),t.qZA(),t._UZ(40,"input",20),t.qZA(),t.TgZ(41,"div",16)(42,"label",19),t._uU(43,"Link"),t.qZA(),t._UZ(44,"input",21),t.qZA()()(),t.TgZ(45,"div",22)(46,"button",23),t._uU(47,"Close"),t.qZA(),t.YNc(48,g,2,0,"button",24),t.YNc(49,Z,2,0,"button",24),t.qZA()()()(),t._UZ(50,"br")(51,"br")(52,"br")(53,"br")),2&e&&(t.xp6(23),t.Q6J("ngForOf",n.adminData),t.xp6(9),t.Q6J("formGroup",n.formValue),t.xp6(16),t.Q6J("ngIf",n.showAdd),t.xp6(1),t.Q6J("ngIf",n.showUpdate))},dependencies:[u.sg,u.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".admin-navbar[_ngcontent-%COMP%]{background-color:#563256}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(_),p.Bz]}),o})(),h=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,M,a.UX,a.u5]}),o})()}}]);